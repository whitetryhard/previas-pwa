(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{209:function(e,t,a){"use strict";function r(e,t){var a=t.left,r=t.right,n=t.mirror,o=t.opposite,l=(a?1:0)|(r?2:0)|(n?16:0)|(o?32:0)|(e?64:0);if(m.hasOwnProperty(l))return m[l];if(!n!=!(e&&o)){var c=[r,a];a=c[0],r=c[1]}var s=a?"-100%":r?"100%":"0",u=e?"from {\n        opacity: 1;\n      }\n      to {\n        transform: translate3d("+s+", 0, 0) skewX(30deg);\n        opacity: 0;\n      }\n    ":"from {\n        transform: translate3d("+s+", 0, 0) skewX(-30deg);\n        opacity: 0;\n      }\n      60% {\n        transform: skewX(20deg);\n        opacity: 1;\n      }\n      80% {\n        transform: skewX(-5deg);\n        opacity: 1;\n      }\n      to {\n        transform: none;\n        opacity: 1;\n      }";return m[l]=(0,i.animation)(u),m[l]}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.defaults,t=e.children,a=(e.out,e.forever),n=e.timeout,o=e.duration,l=void 0===o?i.defaults.duration:o,s=e.delay,u=void 0===s?i.defaults.delay:s,m=e.count,p=void 0===m?i.defaults.count:m,g=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["children","out","forever","timeout","duration","delay","count"]),d={make:r,duration:void 0===n?l:n,delay:u,forever:a,count:p,style:{animationFillMode:"both"}};return g.left,g.right,g.mirror,g.opposite,(0,c.default)(g,d,d,t)}Object.defineProperty(t,"__esModule",{value:!0});var o,l=a(73),c=(o=l)&&o.__esModule?o:{default:o},s=a(2),i=a(56),u={out:s.bool,left:s.bool,right:s.bool,mirror:s.bool,opposite:s.bool,duration:s.number,timeout:s.number,delay:s.number,count:s.number,forever:s.bool},m={};n.propTypes=u,t.default=n,e.exports=t.default},210:function(e,t,a){"use strict";var r=a(3),n=a(4),o=a(7),l=a(6),c=a(8),s=a(0),i=a.n(s),u=a(22),m=a.n(u),p=a(209),g=a.n(p),d=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-12 p-0 fixed",style:{zIndex:"9"}},i.a.createElement("div",{className:"block m-0"},i.a.createElement("div",{className:"block-content p-0 ".concat(this.props.dark&&"nav-dark")},i.a.createElement("div",{className:"input-group ".concat(this.props.boxshadow&&"search-box")},!this.props.disable_back_button&&i.a.createElement("div",{className:"input-group-prepend"},this.props.back_to_home&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/")},200)}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(m.a,{duration:"500"})),this.props.goto_orders_page&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/my-orders")},200)}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(m.a,{duration:"500"})),this.props.goto_accounts_page&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/my-account")},200)}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(m.a,{duration:"500"})),!this.props.back_to_home&&!this.props.goto_orders_page&&!this.props.goto_accounts_page&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns ".concat(this.props.dark&&"nav-dark"),style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.goBack()},200)}},i.a.createElement("i",{className:"si si-arrow-left"}),i.a.createElement(m.a,{duration:"500"}))),i.a.createElement("p",{className:"form-control search-input d-flex align-items-center ".concat(this.props.dark&&"nav-dark")},this.props.logo&&i.a.createElement("img",{src:"/assets/img/logos/logo.png",alt:localStorage.getItem("storeName"),width:"120"}),this.props.has_title?i.a.createElement(i.a.Fragment,null,this.props.from_checkout?i.a.createElement("span",{className:"nav-page-title"},localStorage.getItem("cartToPayText")," ",i.a.createElement("span",{style:{color:localStorage.getItem("storeColor")}},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.props.title,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))):i.a.createElement("span",{className:"nav-page-title"},this.props.title)):null,this.props.has_delivery_icon&&i.a.createElement(g.a,{left:!0},i.a.createElement("img",{src:"/assets/img/various/delivery-bike.png",alt:this.props.title,className:"nav-page-title"}))),this.props.has_restaurant_info?i.a.createElement("div",{className:"fixed-restaurant-info hidden",ref:function(t){e.heading=t}},i.a.createElement("span",{className:"font-w700 fixedRestaurantName"},this.props.restaurant.name),i.a.createElement("br",null),i.a.createElement("span",{className:"font-w400 fixedRestaurantTime"},i.a.createElement("i",{className:"si si-clock"})," ",this.props.restaurant.delivery_time," ",localStorage.getItem("homePageMinsText"))):null,i.a.createElement("div",{className:"input-group-append"},!this.props.disable_search&&i.a.createElement("button",{type:"submit",className:"btn search-navs-btns",style:{position:"relative"}},i.a.createElement("i",{className:"si si-magnifier"}),i.a.createElement(m.a,{duration:"500"})),this.props.homeButton&&i.a.createElement("button",{type:"button",className:"btn search-navs-btns nav-home-btn",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/")},200)}},i.a.createElement("i",{className:"si si-home fa-2x text-muted"}),i.a.createElement(m.a,{duration:"500"}))))))))}}]),t}(s.Component);d.contextTypes={router:function(){return null}},t.a=d},211:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r=function(e){if(e){var t=parseFloat(e);return t=t.toFixed(2)}return 0}},212:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var r=a(97),n=a(211),o=function(e){return function(t){var a={productQuantity:e.reduce(function(e,t){return++e},0),totalPrice:e.reduce(function(e,t){var a=0;return t.selectedaddons&&t.selectedaddons.map(function(e){return a+=parseFloat(e.price)}),e+=t.price*t.quantity+a*t.quantity,e=parseFloat(e),Object(n.a)(e),e},0)};t({type:r.a,payload:a})}}},213:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return o}),a.d(t,"c",function(){return l});var r=a(57),n=function(e){return{type:r.b,payload:e}},o=function(e){return{type:r.a,payload:e}},l=function(e){return function(t){return console.log("From action",e),t({type:r.c,payload:e})}}},217:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r=function(e,t,a,r){function n(e){return e*Math.PI/180}var o=n(r-t),l=n(a-e),c=Math.sin(o/2)*Math.sin(o/2)+Math.cos(n(t))*Math.cos(n(r))*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}},219:function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"a",function(){return s});var r=a(100),n=a(10),o=a(5),l=a.n(o),c=function(){return function(e){return e({type:r.a,payload:!0})}},s=function(e){return function(t){return l.a.post(n.g,{items:e}).then(function(e){return e.data}).catch(function(e){console.log(e)})}}},224:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var r=a(99),n=a(10),o=a(78),l=a(5),c=a.n(l),s=a(212),i=function(e,t,a,l,i,u,m,p,g,d,h,f,y){return function(v,S){return c.a.post(n.X,{token:e.data.auth_token,user:e,order:t,coupon:a,location:l,order_comment:i,total:u,method:m,payment_token:p,delivery_type:g,partial_wallet:d,dis:h,pending_payment:f,tipAmount:y}).then(function(e){var t=e.data;if(!t.success)return t;v({type:r.a,payload:t});var a=S().cart.products;localStorage.removeItem("orderComment");for(var n=a.length-1;n>=0;n--)a.splice(n,1);v(Object(s.a)(a)),localStorage.removeItem("appliedCoupon");v({type:o.a,payload:[]})}).catch(function(e){return e.response})}}},225:function(e,t,a){"use strict";var r=a(217);t.a=function(e,t,a,n,o,l){var c=[{lat:parseFloat(t),lng:parseFloat(e)}],s=[{lat:parseFloat(n),lng:parseFloat(a)}],i=o.maps.TravelMode.DRIVING;(new o.maps.DistanceMatrixService).getDistanceMatrix({origins:c,destinations:s,travelMode:i},function(o,c){if(console.log("RESPONSE",o),console.log("STATUS",o.rows[0].elements[0].status),"OK"===o.rows[0].elements[0].status){var s=(o.rows[0].elements[0].distance.value/1e3).toFixed(1);l(s)}else{console.log("Falling back to basic distance calculation");var i=Object(r.a)(e,t,a,n);l(i)}})}},320:function(e,t,a){"use strict";a.r(t);var r=a(49),n=a(3),o=a(4),l=a(7),c=a(6),s=a(8),i=a(95),u=a(0),m=a.n(u),p=a(94),g=a(210),d=a(16),h=a(211),f=a(78),y=a(10),v=a(5),S=a.n(v),b=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={delivery_charges:0,distance:0,tips:0,couponAppliedAmount:0},a.calculateDynamicDeliveryCharge=function(){var e=a.props.restaurant_info,t=a.state.distance;if(console.log("Distance from user to restaurant: "+t+" km"),t>e.base_delivery_distance){var r=t-e.base_delivery_distance;console.log("Extra Distance: "+r+" km");var n=r/e.extra_delivery_distance*e.extra_delivery_charge;console.log("Extra Charge: "+n);var o=parseFloat(e.base_delivery_charge)+parseFloat(n);console.log("Total Charge: "+o),"true"===localStorage.getItem("enDelChrRnd")&&(o=Math.ceil(o)),a.setState({delivery_charges:o})}else a.setState({delivery_charges:e.base_delivery_charge})},a.getTotalAfterCalculation=function(){var e=a.props,t=e.total,r=e.restaurant_info,n=e.coupon,o=e.tips,l=0;if(n.code)if("PERCENTAGE"===n.discount_type){var c=Object(h.a)(n.discount/100*parseFloat(t));n.max_discount&&parseFloat(c)>=n.max_discount&&(c=n.max_discount),a.props.couponApplied(n,c),new Promise(function(e){localStorage.setItem("couponAppliedAmount",c),e("Saved")}).then(function(){a.checkAndSetAppliedAmount()}),l=Object(h.a)(Object(h.a)(parseFloat(t)-c+parseFloat(r.restaurant_charges||0)+parseFloat(a.state.delivery_charges||0)))}else l=Object(h.a)(parseFloat(t)-(parseFloat(n.discount)||0)+((parseFloat(r.restaurant_charges)||0)+(parseFloat(a.state.delivery_charges)||0)));else l=Object(h.a)(parseFloat(t)+parseFloat(r.restaurant_charges||0)+parseFloat(a.state.delivery_charges||0));return"true"===localStorage.getItem("taxApplicable")&&(l=Object(h.a)(parseFloat(parseFloat(l)+parseFloat(parseFloat(localStorage.getItem("taxPercentage"))/100)*l))),o.value>0&&(l=parseFloat(l)+parseFloat(o.value)),l},a.checkAndSetAppliedAmount=function(){var e="";e="left"===localStorage.getItem("currencySymbolAlign")?"("+localStorage.getItem("currencyFormat")+localStorage.getItem("couponAppliedAmount")+")":"("+localStorage.getItem("couponAppliedAmount")+localStorage.getItem("currencyFormat")+")",a.refs.appliedAmount&&(a.refs.appliedAmount.innerHTML=e)},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){"SELFPICKUP"===localStorage.getItem("userSelected")?this.setState({delivery_charges:0}):this.setState({delivery_charges:this.props.restaurant_info.delivery_charges})}},{key:"componentWillReceiveProps",value:function(e){var t=this;"DELIVERY"===localStorage.getItem("userSelected")&&this.props.restaurant_info.delivery_charges!==e.restaurant_info.delivery_charges&&this.setState({delivery_charges:e.restaurant_info.delivery_charges}),e.distance&&"DELIVERY"===localStorage.getItem("userSelected")&&"DYNAMIC"===e.restaurant_info.delivery_charge_type&&this.setState({distance:e.distance},function(){t.calculateDynamicDeliveryCharge()})}},{key:"render",value:function(){var e=this.props,t=e.total,a=e.restaurant_info,r=e.coupon,n=e.tips,o=e.removeTip;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"px-15"},m.a.createElement("div",{className:"bg-white bill-details mb-200 ".concat(!this.props.alreadyRunningOrders&&"border-radius-4px")},m.a.createElement("div",{className:"p-15"},m.a.createElement("h2",{className:"bill-detail-text m-0"},localStorage.getItem("cartBillDetailsText")),m.a.createElement("div",{className:"display-flex"},m.a.createElement("div",{className:"flex-auto"},localStorage.getItem("cartItemTotalText")),m.a.createElement("div",{className:"flex-auto text-right"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),Object(h.a)(t),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))),m.a.createElement("hr",null),r.code&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"display-flex"},m.a.createElement("div",{className:"flex-auto coupon-text"},localStorage.getItem("cartCouponText")),m.a.createElement("div",{className:"flex-auto text-right coupon-text"},m.a.createElement("span",null,"-"),"PERCENTAGE"===r.discount_type?m.a.createElement(m.a.Fragment,null,r.discount,"%"," ",m.a.createElement("span",{className:"coupon-appliedAmount",ref:"appliedAmount"},this.checkAndSetAppliedAmount())):m.a.createElement(m.a.Fragment,null,"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")+r.discount,"right"===localStorage.getItem("currencySymbolAlign")&&r.discount+localStorage.getItem("currencyFormat")))),m.a.createElement("hr",null)),"0.00"===a.restaurant_charges||null===a.restaurant_charges?null:m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"display-flex"},m.a.createElement("div",{className:"flex-auto"},localStorage.getItem("cartRestaurantCharges")),m.a.createElement("div",{className:"flex-auto text-right"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),a.restaurant_charges,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))),m.a.createElement("hr",null)),0===this.state.delivery_charges?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"display-flex"},m.a.createElement("div",{className:"flex-auto"},localStorage.getItem("cartDeliveryCharges")),m.a.createElement("div",{className:"flex-auto text-right"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),"0","right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))),m.a.createElement("hr",null)):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"display-flex"},m.a.createElement("div",{className:"flex-auto"},localStorage.getItem("cartDeliveryCharges")),m.a.createElement("div",{className:"flex-auto text-right"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),Object(h.a)(this.state.delivery_charges),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))),m.a.createElement("hr",null)),"true"===localStorage.getItem("taxApplicable")&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"display-flex"},m.a.createElement("div",{className:"flex-auto text-danger"},localStorage.getItem("taxText")),m.a.createElement("div",{className:"flex-auto text-right text-danger"},m.a.createElement("span",null,"+"),localStorage.getItem("taxPercentage"),"%")),m.a.createElement("hr",null)),0!==n.value&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"display-flex"},m.a.createElement("div",{className:"flex-auto"},localStorage.getItem("tipText")),m.a.createElement("div",{className:"flex-auto text-right"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),Object(h.a)(n.value),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),m.a.createElement("br",null),m.a.createElement("span",{onClick:o},m.a.createElement("u",null,localStorage.getItem("cartRemoveTipText"))))),m.a.createElement("hr",null)),m.a.createElement("div",{className:"display-flex"},m.a.createElement("div",{className:"flex-auto font-w700"},localStorage.getItem("cartToPayText")),m.a.createElement("div",{className:"flex-auto text-right font-w700"},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.getTotalAfterCalculation(),"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))),"SELFPICKUP"===localStorage.getItem("userSelected")&&m.a.createElement("p",{className:"my-2 mt-3 text-danger font-weight-bold"},localStorage.getItem("selectedSelfPickupMessage"))))))}}]),t}(u.Component),E=Object(d.b)(function(e){return{coupon:e.coupon.coupon,restaurant_info:e.items.restaurant_info}},{couponApplied:function(e,t){return function(a){return e.appliedAmount=t,a({type:f.a,payload:e})}}})(b),_=a(22),I=a.n(_),N=a(219),x=a(224),O=a(213),C=a(212),A=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={process_cart_loading:!1},a.processCart=function(){var e=a.props,t=e.handleProcessCartLoading,r=e.checkCartItemsAvailability,n=e.cartProducts,o=e.addProduct,l=e.updateCart,c=e.checkConfirmCart,s=e.handleItemsAvailability;t(!0),r(n).then(function(e){t(!1),a.setState({process_cart_loading:!1}),e&&e.length?(n.filter(function(t){var a=t.id;return e.includes(a)}).map(function(e){return e.is_active=0,o(e),e}),l(a.props.cartProducts),s(!1)):(n.map(function(e){return e.is_active=1,o(e),e}),l(a.props.cartProducts),c(),a.context.router.history.push("/checkout"))})},a.gotoNewAddressPage=function(){localStorage.setItem("fromCart",1),a.context.router.history.push("/search-location")},a.gotoMyAddressPage=function(){localStorage.setItem("fromCart",1),a.context.router.history.push("/my-addresses")},a.gotoLoginPage=function(){localStorage.setItem("fromCartToLogin",1),a.context.router.history.push("/login")},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){e.checkout!==this.props.checkout&&this.context.router.history.push("/running-order")}},{key:"render",value:function(){var e=this.props.user;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"bg-white cart-checkout-block",style:{height:e.success&&"SELFPICKUP"===localStorage.getItem("userSelected")?"auto":"22vh"}},e.success?null==e.data.default_address?m.a.createElement("div",{className:"p-15"},m.a.createElement("h2",{className:"almost-there-text m-0 pb-5"},localStorage.getItem("cartSetYourAddress")),m.a.createElement("button",{onClick:this.gotoNewAddressPage,className:"btn btn-lg btn-continue",style:{position:"relative",backgroundColor:localStorage.getItem("storeColor")}},localStorage.getItem("buttonNewAddress"),m.a.createElement(I.a,{duration:500}))):m.a.createElement(m.a.Fragment,null,("DELIVERY"===localStorage.getItem("userSelected")||null===localStorage.getItem("userSelected"))&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"px-15 py-10"},m.a.createElement("button",{onClick:this.gotoMyAddressPage,className:"change-address-text m-0 p-5 pull-right",style:{color:localStorage.getItem("storeColor")}},localStorage.getItem("cartChangeLocation"),m.a.createElement(I.a,{duration:400})),m.a.createElement("h2",{className:"deliver-to-text m-0 pl-0 pb-5"},localStorage.getItem("cartDeliverTo")),m.a.createElement("div",{className:"user-address truncate-text m-0 pt-10"},e.data.default_address.address,null!==e.data.default_address.house&&m.a.createElement("p",{className:"truncate-text"},e.data.default_address.house)))),m.a.createElement(m.a.Fragment,null,this.props.is_operational?m.a.createElement("div",{style:{marginTop:"1.6rem"}},m.a.createElement("div",{onClick:this.processCart,className:"btn btn-lg btn-make-payment",style:{backgroundColor:localStorage.getItem("cartColorBg"),color:localStorage.getItem("cartColorText"),position:"relative"}},localStorage.getItem("checkoutSelectPayment"),m.a.createElement(I.a,{duration:400}))):m.a.createElement("div",{className:"auth-error bg-danger"},m.a.createElement("div",{className:"error-shake"},localStorage.getItem("cartRestaurantNotOperational"))))):m.a.createElement("div",{className:"p-15"},m.a.createElement("h2",{className:"almost-there-text m-0 pb-5"},localStorage.getItem("cartLoginHeader")),m.a.createElement("span",{className:"almost-there-sub text-muted"},localStorage.getItem("cartLoginSubHeader")),m.a.createElement("button",{onClick:this.gotoLoginPage,className:"btn btn-lg btn-continue",style:{backgroundColor:localStorage.getItem("storeColor"),position:"relative"}},localStorage.getItem("cartLoginButtonText"),m.a.createElement(I.a,{duration:500})))))}}]),t}(u.Component);A.contextTypes={router:function(){return null}};var k=Object(d.b)(function(e){return{user:e.user.user,addresses:e.addresses.addresses,cartProducts:e.cart.products,cartTotal:e.total.data,coupon:e.coupon.coupon,checkout:e.checkout.checkout,restaurant:e.restaurant}},{placeOrder:x.a,checkConfirmCart:N.b,checkCartItemsAvailability:N.a,addProduct:O.a,updateCart:C.a})(A),F=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o))))._getItemTotal=function(e){var t=0,a=0;return e.selectedaddons&&e.selectedaddons.map(function(e){return t+=parseFloat(e.price)}),a+=e.price*e.quantity+t*e.quantity,a=parseFloat(a),"left"===localStorage.getItem("currencySymbolAlign")?localStorage.getItem("currencyFormat")+Object(h.a)(a):Object(h.a)(a)+localStorage.getItem("currencyFormat")},a._generateKey=function(e){var t="".concat(e,"_").concat((new Date).getTime(),"_").concat(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15));return console.log(t),t},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.addProductQuantity,a=e.removeProductQuantity,r=e.item,n=e.removeProduct;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"cart-item-meta pt-15 pb-15 align-items-center"},m.a.createElement("div",{className:"cart-item-name"},"true"===localStorage.getItem("showVegNonVegBadge")&&null!==r.is_veg&&m.a.createElement(m.a.Fragment,null,r.is_veg?m.a.createElement("img",{src:"/assets/img/various/veg-icon.png",alt:"Veg",style:{width:"1rem"},className:"mr-1"}):m.a.createElement("img",{src:"/assets/img/various/non-veg-icon.png",alt:"Non-Veg",style:{width:"1rem"},className:"mr-1"})),m.a.createElement("span",{className:"".concat(!r.is_active&&"text-danger")},m.a.createElement("strong",null," ",r.name)),r.selectedaddons&&m.a.createElement(m.a.Fragment,null,m.a.createElement("br",null),r.selectedaddons.map(function(e,t){return m.a.createElement(m.a.Fragment,{key:r.id+e.addon_id},m.a.createElement("span",{style:{color:"#adadad",fontSize:"0.8rem"}},(t?", ":"")+e.addon_name))}))),r.is_active?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"btn-group btn-group-sm cart-item-btn"},m.a.createElement("button",{type:"button",className:"btn btn-add-remove",style:{color:localStorage.getItem("cartColor-bg")},onClick:function(){return a(r)}},m.a.createElement("span",{className:"btn-dec"},1===r.quantity?m.a.createElement("i",{className:"si si-trash",style:{fontSize:"0.8rem",top:"-0.2rem",WebkitTextStroke:"0.4px #f44336",color:"#f44336"}}):"-"),m.a.createElement(I.a,{duration:"500"})),m.a.createElement("button",{type:"button",className:"btn btn-quantity"},r.quantity),m.a.createElement("button",{type:"button",className:"btn btn-add-remove",style:{color:localStorage.getItem("cartColor-bg")},onClick:function(){return t(r)}},m.a.createElement("span",{className:"btn-inc"},"+"),m.a.createElement(I.a,{duration:"500"}))),m.a.createElement("div",{className:"cart-item-price"},m.a.createElement(m.a.Fragment,null,this._getItemTotal(r)))):m.a.createElement(m.a.Fragment,null,m.a.createElement("button",{type:"button",className:"btn btn-add-remove text-danger",style:{color:localStorage.getItem("cartColor-bg"),minWidth:"132.05px"},onClick:function(){n(r)}},localStorage.getItem("cartRemoveItemButton")),m.a.createElement("div",{className:"cart-item-price text-danger"},localStorage.getItem("cartItemNotAvailable")))))}}]),t}(u.Component),T=Object(d.b)(function(e){return{cartProducts:e.cart.products,cartTotal:e.total.data}},{})(F),P=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={inputCoupon:"",couponFailed:!1,couponFailedType:"",couponSubtotalMessage:""},a.handleInput=function(e){a.setState({inputCoupon:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=a.props.user.success?a.props.user.data.auth_token:null;a.props.applyCoupon(t,a.state.inputCoupon,a.props.restaurant_info.id,a.props.subtotal)},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("appliedCoupon")&&this.setState({inputCoupon:localStorage.getItem("appliedCoupon")},function(){e.refs.couponInput.defaultValue=localStorage.getItem("appliedCoupon");var t=e.props.user.success?e.props.user.data.auth_token:null;e.props.applyCoupon(t,localStorage.getItem("appliedCoupon"),e.props.restaurant_info.id,e.props.subtotal)})}},{key:"componentWillReceiveProps",value:function(e){this.props.coupon!==e.coupon&&(e.coupon.success?(console.log("SUCCESS COUPON"),localStorage.setItem("appliedCoupon",e.coupon.code),this.setState({couponFailed:!1})):(console.log("COUPON Removed"),console.log("FAILED COUPON"),localStorage.removeItem("appliedCoupon"),this.setState({couponFailed:!e.coupon.hideMessage,couponFailedType:e.coupon.type,couponSubtotalMessage:e.coupon.message})))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.coupon,a=e.user;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"input-group px-15 pb-15"},m.a.createElement("form",{className:"coupon-form ".concat(!a.success&&"coupon-block-not-loggedin"),onSubmit:this.handleSubmit},m.a.createElement("div",{className:"input-group"},m.a.createElement("div",{className:"input-group-prepend"},m.a.createElement("button",{className:"btn apply-coupon-btn"},m.a.createElement("i",{className:"si si-tag"}))),m.a.createElement("input",{type:"text",className:"form-control apply-coupon-input",placeholder:localStorage.getItem("cartCouponText"),onChange:this.handleInput,style:{color:localStorage.getItem("storeColor")},spellCheck:"false",ref:"couponInput"}),m.a.createElement("div",{className:"input-group-append"},m.a.createElement("button",{type:"submit",className:"btn apply-coupon-btn",onClick:this.handleSubmit},m.a.createElement("span",{style:{backgroundColor:localStorage.getItem("cartColorBg"),color:localStorage.getItem("cartColorText")}},localStorage.getItem("applyCouponButtonText")),m.a.createElement(I.a,{duration:"500"}))))),m.a.createElement("div",{className:"coupon-status"},t.code&&m.a.createElement("div",{className:"coupon-success pt-10 pb-10"},"true"===localStorage.getItem("showCouponDescriptionOnSuccess")?m.a.createElement(m.a.Fragment,null,t.description):m.a.createElement(m.a.Fragment,null,'"'+t.code+'"'," ",localStorage.getItem("cartApplyCoupon")," ","PERCENTAGE"===t.discount_type?t.discount+"%":m.a.createElement(m.a.Fragment,null,"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")+t.discount,"right"===localStorage.getItem("currencySymbolAlign")&&t.discount+localStorage.getItem("currencyFormat")," ",localStorage.getItem("cartCouponOffText")))),this.state.couponFailed&&("MINSUBTOTAL"===this.state.couponFailedType?m.a.createElement("div",{className:"coupon-fail pt-10 pb-10"},this.state.couponSubtotalMessage):m.a.createElement("div",{className:"coupon-fail pt-10 pb-10"},localStorage.getItem("cartInvalidCoupon"))),!a.success&&m.a.createElement("div",{className:"coupon-not-loggedin-message pt-10 pb-10"},m.a.createElement("i",{className:"si si-info mr-2"}),localStorage.getItem("couponNotLoggedin")))))}}]),t}(u.Component),w=Object(d.b)(function(e){return{coupon:e.coupon.coupon,restaurant_info:e.items.restaurant_info,user:e.user.user}},{applyCoupon:function(e,t,a,r){return function(n){return S.a.post(y.c,{token:e,coupon:t,restaurant_id:a,subtotal:r}).then(function(e){var t=e.data;return[n({type:f.a,payload:t}),n({type:f.b,payload:null})]}).catch(function(e){if(console.log(e),401===e.response.status)return n({type:f.b,payload:"NOTLOGGEDIN"})})}}})(P),j=a(47),M=a(96),R=a(42),L=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={comment:""},a.handleInput=function(e){a.setState({comment:e.target.value}),localStorage.setItem("orderComment",e.target.value)},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({comment:localStorage.getItem("orderComment")})}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("input",{className:"form-control order-comment",type:"text",placeholder:localStorage.getItem("cartSuggestionPlaceholder"),onChange:this.handleInput,value:this.state.comment||""}))}}]),t}(u.Component),D=a(344),B=a(41),J=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.restaurant;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"bg-white"},0===e.length?m.a.createElement(B.a,{height:150,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},m.a.createElement("rect",{x:"20",y:"70",rx:"4",ry:"4",width:"80",height:"78"}),m.a.createElement("rect",{x:"144",y:"85",rx:"0",ry:"0",width:"115",height:"18"}),m.a.createElement("rect",{x:"144",y:"115",rx:"0",ry:"0",width:"165",height:"16"})):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"bg-light pb-10",style:{paddingTop:"5rem"}},m.a.createElement("div",{className:"block-content block-content-full pt-2"},m.a.createElement("img",{src:e.image,alt:e.name,className:"restaurant-image mt-0"})),m.a.createElement("div",{className:"block-content block-content-full restaurant-info"},m.a.createElement("h4",{className:"font-w600 mb-5 text-dark"},e.name),m.a.createElement("div",{className:"font-size-sm text-muted truncate-text text-muted"},e.description),1===e.is_pureveg&&m.a.createElement("p",{className:"mb-0"},m.a.createElement("span",{className:"font-size-sm pr-1 text-muted"},localStorage.getItem("pureVegText")),m.a.createElement("img",{src:"/assets/img/various/pure-veg.png",alt:"PureVeg",style:{width:"20px"}})),m.a.createElement("div",{className:"text-center restaurant-meta mt-5 d-flex align-items-center justify-content-between text-muted"},m.a.createElement("div",{className:"col-2 p-0 text-left"},m.a.createElement("i",{className:"fa fa-star",style:{color:localStorage.getItem("storeColor")}})," ",e.rating),m.a.createElement("div",{className:"col-4 p-0 text-center"},m.a.createElement("i",{className:"si si-clock"})," ",e.delivery_time," ",localStorage.getItem("homePageMinsText")),m.a.createElement("div",{className:"col-6 p-0 text-center"},m.a.createElement("i",{className:"si si-wallet"})," ","left"===localStorage.getItem("currencySymbolAlign")&&m.a.createElement(m.a.Fragment,null,localStorage.getItem("currencyFormat"),e.price_range," "),"right"===localStorage.getItem("currencySymbolAlign")&&m.a.createElement(m.a.Fragment,null,e.price_range,localStorage.getItem("currencyFormat")," "),localStorage.getItem("homePageForTwoText"))))))))}}]),t}(u.Component),U=a(217),V=a(225),q=a(75),K=a(220),W=a(13),G=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"bg-white"},m.a.createElement("div",{className:"d-flex justify-content-center mt-100 mb-20"},m.a.createElement("img",{className:"offline-mode-img text-center",src:"/assets/img/various/user-ban.png",alt:"user-ban"})),"<p><br></p>"!==localStorage.getItem("userInActiveMessage")&&"null"!==localStorage.getItem("userInActiveMessage")&&""!==localStorage.getItem("userInActiveMessage")&&m.a.createElement("div",{dangerouslySetInnerHTML:{__html:localStorage.getItem("userInActiveMessage")}})))}}]),t}(u.Component),Q=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={loading:!0,alreadyRunningOrders:!1,is_operational_loading:!0,is_operational:!0,distance:0,is_active:!1,min_order_satisfied:!1,process_cart_loading:!1,is_all_items_available:!1,process_distance_calc_loading:!1,userBan:!1,tips:[],tips_percentage:[],tipsPercentageSetting:!1,tipsAmountSetting:!1,others:!1,percentage:!1,selectedTips:{type:"amount",value:0},is_tips_show:!0},a.fetchCheckBanAgain=function(e){a.props.checkBan(e).then(function(e){e&&(e.success?a.cartOperationalSteps():a.setState({userBan:!0,loading:!1}))})},a.cartOperationalSteps=function(){var e=a.props.user;a.setState({loading:!1}),a.props.cartProducts.length&&(document.getElementsByTagName("body")[0].classList.add("bg-grey"),a.checkForItemsAvailability()),null!==localStorage.getItem("activeRestaurant")&&a.props.cartProducts.length>0&&a.props.getRestaurantInfoById(localStorage.getItem("activeRestaurant")).then(function(t){t&&t.payload.id&&(e.success||a.__doesRestaurantOperatesAtThisLocation(t.payload))}),e.success?(a.props.checkUserRunningOrder(e.data.id,e.data.auth_token),a.props.cartProducts.length>0&&a.props.updateUserInfo(e.data.id,e.data.auth_token).then(function(e){if("undefined"!==typeof e)if(null!==e.payload.data.default_address){var t={lat:e.payload.data.default_address.latitude,lng:e.payload.data.default_address.longitude,address:e.payload.data.default_address.address,house:e.payload.data.default_address.house,tag:e.payload.data.default_address.tag};new Promise(function(e){localStorage.setItem("userSetAddress",JSON.stringify(t)),e("Address Saved")}).then(function(){a.__doesRestaurantOperatesAtThisLocation(a.props.restaurant_info)})}else a.__doesRestaurantOperatesAtThisLocation(a.props.restaurant_info);else console.warn("Failed to fetch update user info... Solution: Reload Page")})):a.setState({alreadyRunningOrders:!1})},a.addProductQuantity=function(e){var t=a.props,r=t.cartProducts,n=t.updateCart,o=!1;r.forEach(function(t){t.id===e.id&&JSON.stringify(t.selectedaddons)===JSON.stringify(e.selectedaddons)&&(t.quantity+=1,o=!0)}),o||r.push(e),n(r)},a.removeProductQuantity=function(e){var t=a.props,r=t.cartProducts,n=t.updateCart,o=r.findIndex(function(t){return t.id===e.id&&JSON.stringify(t)===JSON.stringify(e)});o>=0&&(r.forEach(function(t){t.id===e.id&&JSON.stringify(t)===JSON.stringify(e)&&(1===t.quantity?r.splice(o,1):t.quantity-=1)}),n(r),a.props.removeCoupon())},a.removeProduct=function(e){var t=a.props,r=t.cartProducts,n=t.updateCart,o=r.findIndex(function(t){return t.id===e.id});r.splice(o,1),n(r),a.props.removeCoupon(),a.checkForItemsAvailability()},a.__doesRestaurantOperatesAtThisLocation=function(e){var t=a.props.user;if(t.success&&null!==t.data.default_address){var r=Object(i.a)(Object(i.a)(a)),n=0;"true"===localStorage.getItem("enGDMA")?(a.setState({process_distance_calc_loading:!0}),n=Object(V.a)(e.longitude,e.latitude,t.data.default_address.longitude,t.data.default_address.latitude,a.props.google,function(a){console.log("Distance:",a),r.setState({distance:a,process_distance_calc_loading:!1},r.__processRestaurantOperationalState(e.id,t.data.default_address.latitude,t.data.default_address.longitude))})):(n=Object(U.a)(e.longitude,e.latitude,t.data.default_address.longitude,t.data.default_address.latitude),a.setState({distance:n},a.__processRestaurantOperationalState(e.id,t.data.default_address.latitude,t.data.default_address.longitude)))}else{var o=Object(i.a)(Object(i.a)(a)),l=0;null!==localStorage.getItem("userSetAddress")?"true"===localStorage.getItem("enGDMA")?l=Object(V.a)(e.longitude,e.latitude,JSON.parse(localStorage.getItem("userSetAddress")).lng,JSON.parse(localStorage.getItem("userSetAddress")).lat,a.props.google,function(t){console.log(t),o.setState({distance:t},o.__processRestaurantOperationalState(e.id,JSON.parse(localStorage.getItem("userSetAddress")).lat,JSON.parse(localStorage.getItem("userSetAddress")).lng))}):(l=Object(U.a)(e.longitude,e.latitude,JSON.parse(localStorage.getItem("userSetAddress")).lng,JSON.parse(localStorage.getItem("userSetAddress")).lat),a.setState({distance:l},a.__processRestaurantOperationalState(e.id,JSON.parse(localStorage.getItem("userSetAddress")).lat,JSON.parse(localStorage.getItem("userSetAddress")).lng))):a.setState({is_operational:!0,is_operational_loading:!1}),console.log("Distance -> ",a.state.distance)}},a.__processRestaurantOperationalState=function(e,t,r){a.props.getRestaurantInfoAndOperationalStatus(e,t,r).then(function(e){e&&(e.payload.is_operational?a.setState({is_operational:!0,is_operational_loading:!1}):a.setState({is_operational:!1,is_operational_loading:!1}))})},a.__isRestaurantActive=function(e){e.is_active&&a.setState({is_active:!0})},a.__checkMinOrderSatisfied=function(e,t){e.min_order_price>0?parseFloat(Object(h.a)(t.totalPrice))>=parseFloat(Object(h.a)(e.min_order_price))?a.setState({min_order_satisfied:!0}):a.setState({min_order_satisfied:!1}):a.setState({min_order_satisfied:!0})},a.checkForItemsAvailability=function(){var e=a.props,t=e.checkCartItemsAvailability,r=e.cartProducts,n=e.addProduct,o=e.updateCart;a.handleProcessCartLoading(!0),t(r).then(function(e){a.handleProcessCartLoading(!1),a.setState({process_cart_loading:!1}),e&&e.length?(r.filter(function(t){var a=t.id;return e.includes(a)}).map(function(e){return e.is_active=0,n(e),e}),a.handleItemsAvailability(!1)):(r.map(function(e){return e.is_active=1,n(e),e}),a.handleItemsAvailability(!0)),o(a.props.cartProducts)})},a.handleProcessCartLoading=function(e){a.setState({process_cart_loading:e})},a.handleItemsAvailability=function(e){a.setState({is_all_items_available:e})},a.showOtherText=function(e){localStorage.setItem("cart_tips",JSON.stringify({type:e,value:0})),a.setState({others:"total"===e,percentage:"percentage"===e,selectedTips:{type:e,value:0}})},a.addTip=function(e,t){localStorage.setItem("cart_tips",JSON.stringify({type:e,value:t})),a.setState({others:!1,percentage:!1,selectedTips:{type:e,value:t}})},a.addTipInPercentage=function(e,t){var r=a.props.cartTotal.totalPrice*t/100;localStorage.setItem("cart_tips",JSON.stringify({type:e,value:r})),a.setState({others:!1,percentage:!1,selectedTips:{type:e,value:r}})},a.restrictAlphabates=function(e){var t=e.target,n=t.value,o=t.min,l=t.max;if(n=Math.max(Number(o),Math.min(Number(l),Number(n))),""===e.target.value||/^[0-9\b]+$/.test(e.target.value)){if("percentageValue"===e.target.name&&""!==n){var c,s=a.props.cartTotal.totalPrice*n/100;localStorage.setItem("cart_tips",JSON.stringify({type:"percentage",value:s})),a.setState((c={},Object(r.a)(c,e.target.name,n),Object(r.a)(c,"selectedTips",{type:e.target.name,value:s}),c))}var i;if("flatAmount"===e.target.name&&""!==n)localStorage.setItem("cart_tips",JSON.stringify({type:"total",value:n})),a.setState((i={},Object(r.a)(i,e.target.name,n),Object(r.a)(i,"selectedTips",{type:e.target.name,value:n}),i))}a.setState({value:n})},a.removeTip=function(){a.setState({others:!1,percentage:!1,selectedTips:{type:"amount",value:0}}),localStorage.removeItem("cart_tips"),a.setState({tipsAmountSetting:!1,tipsPercentageSetting:!1},function(){a.setState({tipsAmountSetting:JSON.parse(localStorage.getItem("showTipsAmount").toLowerCase()),tipsPercentageSetting:JSON.parse(localStorage.getItem("showTipsPercentage").toLowerCase())})})},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.removeItem("cart_tips"),localStorage.removeItem("fromCart");var t=this.props.user;t.success?(this.props.checkBan(t.data.auth_token).then(function(a){a?a.success?e.cartOperationalSteps():e.setState({userBan:!0,loading:!1}):setTimeout(function(){e.fetchCheckBanAgain(t.data.auth_token)},2500)}),this.setState({tips:localStorage.getItem("tips").split(","),tips_percentage:localStorage.getItem("tips_percentage").split(","),tipsAmountSetting:JSON.parse(localStorage.getItem("showTipsAmount").toLowerCase()),tipsPercentageSetting:JSON.parse(localStorage.getItem("showTipsPercentage").toLowerCase())}),console.log(localStorage.getItem("userSelected")),"SELFPICKUP"===localStorage.getItem("userSelected")?this.setState({is_tips_show:!0}):this.setState({is_tips_show:!1})):this.cartOperationalSteps()}},{key:"componentWillReceiveProps",value:function(e){e.restaurant_info.id&&(this.__isRestaurantActive(e.restaurant_info),this.__checkMinOrderSatisfied(e.restaurant_info,e.cartTotal)),e.running_order&&this.setState({alreadyRunningOrders:!0}),e.force_reload&&(this.setState({loading:!0}),window.location.reload())}},{key:"componentWillUnmount",value:function(){document.getElementsByTagName("body")[0].classList.remove("bg-grey"),this.props.confirmCart||localStorage.removeItem("cart_tips")}},{key:"render",value:function(){var e=this;if(this.state.userBan)return m.a.createElement(G,null);if(window.innerWidth>768)return m.a.createElement(D.a,{to:"/"});this.props.cartProducts.length||document.getElementsByTagName("body")[0].classList.remove("bg-grey");var t=this.props,a=t.cartTotal,r=t.cartProducts,n=t.restaurant_info;return m.a.createElement(m.a.Fragment,null,m.a.createElement(R.a,{seotitle:localStorage.getItem("cartPageTitle"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),(this.state.loading||this.state.process_distance_calc_loading||this.state.process_cart_loading)&&m.a.createElement("div",{className:"height-100 overlay-loading ongoing-payment-spin"},m.a.createElement("div",{className:"spin-load"})),!this.state.loading&&m.a.createElement(m.a.Fragment,null,m.a.createElement(g.a,{boxshadow:!0,has_title:!0,title:localStorage.getItem("cartPageTitle"),disable_search:!0,homeButton:!0}),r.length?m.a.createElement(m.a.Fragment,null,"<p><br></p>"!==localStorage.getItem("customCartMessage")&&"null"!==localStorage.getItem("customCartMessage")&&""!==localStorage.getItem("customCartMessage")&&m.a.createElement("div",{style:{position:"relative",paddingTop:"4rem",marginBottom:"-3rem"},dangerouslySetInnerHTML:{__html:localStorage.getItem("customCartMessage")}}),m.a.createElement(J,{restaurant:n}),m.a.createElement("div",{className:"p-15"},m.a.createElement("div",{className:"block-content block-content-full bg-white pt-10 pb-5",style:{borderTopLeftRadius:"5px",borderTopRightRadius:"5px"}},m.a.createElement("h2",{className:"item-text mb-10"},localStorage.getItem("cartItemsInCartText")),r.map(function(t,a){return m.a.createElement(T,{item:t,addProductQuantity:e.addProductQuantity,removeProductQuantity:e.removeProductQuantity,removeProduct:e.removeProduct,key:t.name+t.id+a})})),m.a.createElement(L,null)),(this.state.tipsAmountSetting||this.state.tipsPercentageSetting)&&m.a.createElement("div",{className:"mx-15 mb-15 tips-block"},this.state.tips&&!1===this.state.is_tips_show&&m.a.createElement("div",{className:"block-content block-content-full bg-white pt-10 pb-5"},m.a.createElement("div",{className:this.state.tipsAmountSetting||this.state.tipsPercentageSetting?"d-show":"d-none"},m.a.createElement("p",{className:"item-text mb-10"},m.a.createElement("strong",null,localStorage.getItem("tipsForDeliveryText"))),m.a.createElement("p",null," ",localStorage.getItem("tipsThanksText"),".")),this.state.tipsAmountSetting&&m.a.createElement("div",{className:"tip-switch-field"},this.state.tips.map(function(t,a){return m.a.createElement("div",{key:a,className:"tips"},m.a.createElement("input",{type:"radio",value:t,id:a,name:"switch-two",onClick:function(){return e.addTip("amount",t)}}),m.a.createElement("label",{htmlFor:a,className:" ".concat(a>0&&"ml-5")},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),t,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))}),m.a.createElement("div",{className:"tips"},m.a.createElement("input",{type:"radio",value:"other",id:"others",name:"switch-two",onClick:function(t){return e.showOtherText("total")}}),m.a.createElement("label",{htmlFor:"others",className:"ml-5"},localStorage.getItem("tipsOtherText")))),this.state.others&&m.a.createElement("input",{className:"form-control custom-tip-input mb-15",name:"flatAmount",type:"text",placeholder:localStorage.getItem("cartTipAmountPlaceholderText"),value:this.state.flatAmount||"",onChange:this.restrictAlphabates,onKeyPress:this.restrictAlphabates,min:"0",max:"10000"}),this.state.tipsPercentageSetting&&m.a.createElement("div",{className:"tip-switch-field"},this.state.tips_percentage.map(function(t,a){return m.a.createElement("div",{key:a,className:"tips_percentage"},m.a.createElement("input",{type:"radio",value:t,id:"".concat(a,"_tips_percentage"),name:"switch-two",onClick:function(){return e.addTipInPercentage("amount",t)}}),m.a.createElement("label",{htmlFor:"".concat(a,"_tips_percentage"),className:" ".concat(a>0&&"ml-5")}," ",t,"%"))}),m.a.createElement("div",{className:"tips"},m.a.createElement("input",{type:"radio",value:"percentage",id:"percentage",name:"switch-two",onClick:function(){return e.showOtherText("percentage")}}),m.a.createElement("label",{htmlFor:"percentage",className:"ml-5"},localStorage.getItem("tipsOtherText")))),this.state.percentage&&m.a.createElement("input",{className:"form-control custom-tip-input mb-15",name:"percentageValue",type:"text",placeholder:localStorage.getItem("cartTipPercentagePlaceholderText"),value:this.state.percentageValue||"",onChange:this.restrictAlphabates,onKeyPress:this.restrictAlphabates,min:"0",max:"100"}))),m.a.createElement("div",null,m.a.createElement(w,{subtotal:this.props.cartTotal.totalPrice}),this.state.alreadyRunningOrders&&m.a.createElement("div",{className:"px-15"},m.a.createElement("div",{className:"auth-error ongoing-order-notify"},m.a.createElement(j.a,{to:"/my-orders",delay:250,className:"ml-2"},localStorage.getItem("ongoingOrderMsg")," ",m.a.createElement("i",{className:"si si-arrow-right ml-1",style:{fontSize:"0.7rem"}}),m.a.createElement(I.a,{duration:"500"}))))),m.a.createElement("div",null,m.a.createElement(E,{total:a.totalPrice,distance:this.state.distance,alreadyRunningOrders:this.state.alreadyRunningOrders,tips:this.state.selectedTips,removeTip:this.removeTip})),this.state.is_operational_loading?m.a.createElement(W.a,null):m.a.createElement(m.a.Fragment,null,this.state.is_active?m.a.createElement(m.a.Fragment,null,this.state.min_order_satisfied?m.a.createElement(m.a.Fragment,null,this.state.is_all_items_available&&m.a.createElement(k,{restaurant_id:this.props.restaurant_info.id,cart_page:this.context.router.route.location.pathname,is_operational_loading:this.state.is_operational_loading,is_operational:this.state.is_operational,handleProcessCartLoading:this.handleProcessCartLoading,checkForItemsAvailability:this.checkForItemsAvailability,handleItemsAvailability:this.handleItemsAvailability})):m.a.createElement("div",{className:"auth-error no-click"},m.a.createElement("div",{className:"error-shake"},localStorage.getItem("restaurantMinOrderMessage")," ","left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.props.restaurant_info.min_order_price,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat")))):m.a.createElement("div",{className:"auth-error no-click"},m.a.createElement("div",{className:"error-shake"},this.props.restaurant_info&&this.props.restaurant_info.name," :"," ",localStorage.getItem("notAcceptingOrdersMsg"))))):m.a.createElement("div",{className:"bg-white cart-empty-block"},m.a.createElement("img",{className:"cart-empty-img",src:"/assets/img/cart-empty.png",alt:localStorage.getItem("cartEmptyText")}),m.a.createElement("h2",{className:"cart-empty-text mt-50 text-center"},localStorage.getItem("cartEmptyText")),this.state.alreadyRunningOrders&&m.a.createElement("div",{className:"auth-error ongoing-order-notify",style:{position:"fixed",bottom:"4.5rem"}},m.a.createElement(j.a,{to:"/my-orders",delay:250,className:"ml-2"},localStorage.getItem("ongoingOrderMsg")," ",m.a.createElement("i",{className:"si si-arrow-right ml-1",style:{fontSize:"0.7rem"}}),m.a.createElement(I.a,{duration:"500"}))),m.a.createElement(M.a,{active_cart:!0}))))}}]),t}(u.Component);Q.contextTypes={router:function(){return null}};t.default=Object(K.GoogleApiWrapper)({apiKey:localStorage.getItem("googleApiKey"),LoadingContainer:W.a})(Object(d.b)(function(e){return{restaurant_info:e.items.restaurant_info,cartProducts:e.cart.products,cartTotal:e.total.data,user:e.user.user,running_order:e.user.running_order,restaurant:e.restaurant,coupon:e.coupon.coupon,force_reload:e.helper.force_reload,tips:e.tips,tips_percentage:e.tips_percentage,confirmCart:e.confirmCart.confirmCart}},{checkUserRunningOrder:p.d,updateCart:C.a,getRestaurantInfoById:q.d,updateUserInfo:p.k,addProduct:O.a,checkCartItemsAvailability:N.a,checkBan:p.c,getRestaurantInfoAndOperationalStatus:q.c,removeCoupon:function(){return function(e){return console.log("Triggred Coupon Removed"),e({type:f.a,payload:{hideMessage:!0,coupon_error:""}})}}})(Q))}}]);